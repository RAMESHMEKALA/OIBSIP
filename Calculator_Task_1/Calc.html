<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Calculator</title>
        <link rel="stylesheet" href="calc.css">
        <script src="Calc.js"></script>
    </head>
    <body>
        <form name="calc" class="calculator">
            <input type="text" id="text" name="txt" class="value">
            <span class="num clear" onclick="document.calc.txt.value=' ' ">C</span>
            <span class="DEL" onclick=deleteLastChar()>DEL</span>
            <span class="num" onclick=div()>/</span>
            <span class="num" onclick="document.calc.txt.value+='7'">7</span>
            <span class="num" onclick="document.calc.txt.value+='8'">8</span>
            <span class="num" onclick="document.calc.txt.value+='9'">9</span>
            <span class="num" onclick=mult()>*</span>
            <span class="num" onclick="document.calc.txt.value+='4'">4</span>
            <span class="num" onclick="document.calc.txt.value+='5'">5</span>
            <span class="num" onclick="document.calc.txt.value+='6'">6</span>
            <span class="num" onclick=Minus()>-</span>
            <span class="num" onclick="document.calc.txt.value+='1'">1</span>
            <span class="num" onclick="document.calc.txt.value+='2'">2</span>
            <span class="num" onclick="document.calc.txt.value+='3'">3</span>
            <span class="num" onclick=plus()>+</span>
            <span class="num" onclick="document.calc.txt.value+='0'">0</span>
            <span class="num" onclick=dot()>.</span>
            <span class="num" onclick=quo()>%</span>
            <span class="num equal" onclick="document.calc.txt.value=eval(calc.txt.value)">=</span>
        </form>
        <script>
            function plus(){
                var lastChar = document.calc.txt.value[document.calc.txt.value.length-1];
                if(lastChar=='-'){
                    deleteLastChar();
                    document.calc.txt.value+='+';
                }
                else if(lastChar=='.'){
                    document.calc.txt.value+=`0${'+'}`;
                }
                else if(lastChar=='*' || lastChar=='/' || lastChar=='+' || lastChar=='%' || lastChar=='.'){
                    document.calc.txt.value+='';
                }
                else{
                    document.calc.txt.value+='+'; 
                }
            }
            function Minus(){
                var lastChar = document.calc.txt.value[document.calc.txt.value.length-1];
                if(lastChar=='+'){
                    deleteLastChar();
                }
                else if(lastChar=='.'){
                    document.calc.txt.value+=`0${'-'}`;
                }
                document.calc.txt.value+='-';
            }
            function mult(){
                var lastChar = document.calc.txt.value[document.calc.txt.value.length-1];
                if(lastChar=='+' || lastChar=='-' || lastChar=='/' || lastChar=='%'){
                    deleteLastChar();
                    document.calc.txt.value+='*';
                }
                else if(lastChar=='.'){
                    document.calc.txt.value+=`0${'*'}`;
                }
                else if(lastChar=='*'){
                    document.calc.txt.value+='';
                    return;
                }
                else{
                    document.calc.txt.value+='*'; 
                }
            }
            function div(){
                var lastChar = document.calc.txt.value[document.calc.txt.value.length-1];
                if(lastChar=='+' || lastChar=='-' || lastChar=='*' || lastChar=='%'){
                    deleteLastChar();
                    document.calc.txt.value+='/';
                }
                else if(lastChar=='.'){
                    document.calc.txt.value+=`0${'/'}`;
                }
                else if(lastChar=='/'){
                    document.calc.txt.value+='';
                    return;
                }
                else{
                    document.calc.txt.value+='/'; 
                }
            }
            function quo(){
                var lastChar = document.calc.txt.value[document.calc.txt.value.length-1];
                if(lastChar=='+' || lastChar=='-' || lastChar=='/' || lastChar=='*'){
                    deleteLastChar();
                    document.calc.txt.value+='%';
                }
                else if(lastChar=='.'){
                    document.calc.txt.value+=`0${'%'}`;
                }
                else if(lastChar=='%'){
                    document.calc.txt.value+='';
                    return;
                }
                else{
                    document.calc.txt.value+='%'; 
                }
            }
            function dot(){
                var lastChar = document.calc.txt.value[document.calc.txt.value.length-1];
                if(lastChar=='+' || lastChar=='-' || lastChar=='/' || lastChar=='%' || lastChar=='*'){
                    document.calc.txt.value+=`0${'.'}`;
                }
                else if(lastChar=='.'){
                    document.calc.txt.value+='';
                    return;
                }
                else{
                    document.calc.txt.value+='.'; 
                }
            }

        </script>
        <script>
            function deleteLastChar() {
                var currentValue = document.calc.txt.value;
                document.calc.txt.value = currentValue.slice(0, -1);
            }
        </script>

    </body>
</html>